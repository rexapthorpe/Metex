<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio System Visual Test</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="static/css/tabs/portfolio_tab.css">
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: #f5f5f5;
        }
        .test-header {
            background: #0066cc;
            color: white;
            padding: 20px;
            text-align: center;
        }
        .test-header h1 {
            margin: 0 0 10px 0;
        }
        .test-header p {
            margin: 0;
            opacity: 0.9;
        }
        .demo-badge {
            display: inline-block;
            background: #10b981;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div class="test-header">
        <h1>Portfolio System - Visual Preview</h1>
        <p>Complete Robinhood/Fidelity-inspired portfolio tracking system</p>
        <div class="demo-badge">DEMO WITH SAMPLE DATA</div>
    </div>

    <!-- Portfolio Tab -->
    <div class="portfolio-tab">
        <div class="tab-header">
            <h1>Portfolio</h1>
            <p class="tab-subtitle">Track your investments and manage your holdings</p>
        </div>

        <!-- Portfolio Value Section -->
        <div class="portfolio-value-section">
            <div class="portfolio-summary-card">
                <div class="summary-header">
                    <div class="summary-title">
                        <h2>Portfolio Value</h2>
                        <div class="value-display">
                            <span class="current-value">$45,327.50</span>
                            <span class="value-change positive">
                                <span class="change-amount">+$3,427.50</span>
                                <span class="change-percent">(+8.19%)</span>
                            </span>
                        </div>
                    </div>
                    <div class="summary-stats">
                        <div class="stat">
                            <span class="stat-label">Cost Basis</span>
                            <span class="stat-value">$41,900.00</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Holdings</span>
                            <span class="stat-value">15</span>
                        </div>
                    </div>
                </div>

                <!-- Time Range Selector -->
                <div class="time-range-selector">
                    <button class="time-btn">1D</button>
                    <button class="time-btn">1W</button>
                    <button class="time-btn active">1M</button>
                    <button class="time-btn">3M</button>
                    <button class="time-btn">1Y</button>
                </div>

                <!-- Portfolio Value Chart -->
                <div class="portfolio-chart-container">
                    <canvas id="demo-value-chart"></canvas>
                </div>
            </div>
        </div>

        <!-- Holdings and Allocation Section -->
        <div class="portfolio-content-grid">
            <!-- Current Holdings Section -->
            <div class="holdings-section">
                <h2 class="section-title">Current Holdings</h2>

                <div class="holdings-list">
                    <!-- Sample Holding Tile 1 -->
                    <div class="holding-tile">
                        <div class="holding-image">
                            <img src="https://via.placeholder.com/100" alt="Gold Eagle">
                        </div>

                        <div class="holding-details">
                            <div class="holding-specs">
                                <div class="spec-row">
                                    <span class="spec-label">Metal:</span>
                                    <span class="spec-value">Gold</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Product Type:</span>
                                    <span class="spec-value">Coin</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Weight:</span>
                                    <span class="spec-value">1 oz</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Year:</span>
                                    <span class="spec-value">2024</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Grade:</span>
                                    <span class="spec-value">MS70</span>
                                </div>
                            </div>
                        </div>

                        <div class="holding-values">
                            <div class="value-row">
                                <span class="value-label">Quantity:</span>
                                <span class="value-amount">5</span>
                            </div>
                            <div class="value-row">
                                <span class="value-label">Purchase Price:</span>
                                <span class="value-amount">$2,100.00</span>
                            </div>
                            <div class="value-row">
                                <span class="value-label">Current Price:</span>
                                <span class="value-amount">$2,150.00</span>
                            </div>
                            <div class="value-row highlight">
                                <span class="value-label">Current Value:</span>
                                <span class="value-amount">$10,750.00</span>
                            </div>
                            <div class="value-row gain-loss">
                                <span class="value-label">Gain/Loss:</span>
                                <span class="value-amount positive">+$250.00 (+2.38%)</span>
                            </div>
                        </div>

                        <div class="holding-actions">
                            <button class="holding-btn list-btn">
                                <i class="fas fa-tag"></i>
                                <span>List This Item</span>
                            </button>
                            <button class="holding-btn exclude-btn">
                                <i class="fas fa-eye-slash"></i>
                                <span>Not in Portfolio</span>
                            </button>
                        </div>
                    </div>

                    <!-- Sample Holding Tile 2 -->
                    <div class="holding-tile">
                        <div class="holding-image">
                            <img src="https://via.placeholder.com/100" alt="Silver Eagle">
                        </div>

                        <div class="holding-details">
                            <div class="holding-specs">
                                <div class="spec-row">
                                    <span class="spec-label">Metal:</span>
                                    <span class="spec-value">Silver</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Product Type:</span>
                                    <span class="spec-value">Coin</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Weight:</span>
                                    <span class="spec-value">1 oz</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Year:</span>
                                    <span class="spec-value">2023</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Grade:</span>
                                    <span class="spec-value">Ungraded</span>
                                </div>
                            </div>
                        </div>

                        <div class="holding-values">
                            <div class="value-row">
                                <span class="value-label">Quantity:</span>
                                <span class="value-amount">100</span>
                            </div>
                            <div class="value-row">
                                <span class="value-label">Purchase Price:</span>
                                <span class="value-amount">$24.50</span>
                            </div>
                            <div class="value-row">
                                <span class="value-label">Current Price:</span>
                                <span class="value-amount">$26.75</span>
                            </div>
                            <div class="value-row highlight">
                                <span class="value-label">Current Value:</span>
                                <span class="value-amount">$2,675.00</span>
                            </div>
                            <div class="value-row gain-loss">
                                <span class="value-label">Gain/Loss:</span>
                                <span class="value-amount positive">+$225.00 (+9.18%)</span>
                            </div>
                        </div>

                        <div class="holding-actions">
                            <button class="holding-btn list-btn">
                                <i class="fas fa-tag"></i>
                                <span>List This Item</span>
                            </button>
                            <button class="holding-btn exclude-btn">
                                <i class="fas fa-eye-slash"></i>
                                <span>Not in Portfolio</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Asset Allocation Section -->
            <div class="allocation-section">
                <h2 class="section-title">Asset Allocation</h2>

                <div class="allocation-chart-container">
                    <canvas id="demo-allocation-chart"></canvas>
                </div>

                <div class="allocation-legend">
                    <div class="legend-item">
                        <div class="legend-label">
                            <div class="legend-color" style="background: #F59E0B"></div>
                            <span>Gold</span>
                        </div>
                        <div class="legend-values">
                            <div class="legend-value">$28,500.00</div>
                            <div class="legend-percent">62.9%</div>
                        </div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-label">
                            <div class="legend-color" style="background: #9CA3AF"></div>
                            <span>Silver</span>
                        </div>
                        <div class="legend-values">
                            <div class="legend-value">$13,427.50</div>
                            <div class="legend-percent">29.6%</div>
                        </div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-label">
                            <div class="legend-color" style="background: #6B7280"></div>
                            <span>Platinum</span>
                        </div>
                        <div class="legend-values">
                            <div class="legend-value">$3,400.00</div>
                            <div class="legend-percent">7.5%</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script>
        // Demo Value Chart
        const valueCtx = document.getElementById('demo-value-chart');
        if (valueCtx) {
            const gradient = valueCtx.getContext('2d').createLinearGradient(0, 0, 0, 400);
            gradient.addColorStop(0, 'rgba(0, 102, 204, 0.15)');
            gradient.addColorStop(1, 'rgba(0, 102, 204, 0)');

            new Chart(valueCtx, {
                type: 'line',
                data: {
                    labels: ['Nov 1', 'Nov 5', 'Nov 10', 'Nov 15', 'Nov 20', 'Nov 25', 'Nov 30'],
                    datasets: [{
                        label: 'Portfolio Value',
                        data: [41900, 42200, 43100, 42800, 44500, 44200, 45327.50],
                        borderColor: '#0066cc',
                        backgroundColor: gradient,
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 0,
                        pointHoverRadius: 6
                    }, {
                        label: 'Cost Basis',
                        data: [41900, 41900, 41900, 41900, 41900, 41900, 41900],
                        borderColor: '#9ca3af',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        fill: false,
                        tension: 0.4,
                        pointRadius: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: true, position: 'top', align: 'end' },
                        tooltip: { backgroundColor: 'rgba(0, 0, 0, 0.9)' }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toFixed(0);
                                }
                            }
                        }
                    }
                }
            });
        }

        // Demo Allocation Chart
        const allocationCtx = document.getElementById('demo-allocation-chart');
        if (allocationCtx) {
            new Chart(allocationCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Gold', 'Silver', 'Platinum'],
                    datasets: [{
                        data: [28500, 13427.50, 3400],
                        backgroundColor: ['#F59E0B', '#9CA3AF', '#6B7280'],
                        borderWidth: 3,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: { display: false },
                        tooltip: { backgroundColor: 'rgba(0, 0, 0, 0.9)' }
                    },
                    cutout: '65%'
                }
            });
        }
    </script>
</body>
</html>
