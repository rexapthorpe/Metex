<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bid Grading Requirement Display Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            padding: 40px;
            background: #f5f5f5;
            margin: 0;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }

        /* Test Section */
        .test-section {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .test-section h2 {
            margin-top: 0;
            color: #007bff;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }

        /* Account Bid Tile (Your Active Bids) */
        .account-bid-tiles {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        .account-bid-tile {
            border: 1px solid #ccc;
            background: #f9f9f9;
            border-radius: 12px;
            padding: 16px;
            min-height: 92px;
            width: 500px;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }
        .abt-top {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
        }
        .abt-price {
            font-size: 1.65rem;
            font-weight: 600;
            color: #111;
        }
        .abt-price-suffix {
            font-size: 0.85rem;
            font-weight: 500;
            color: #555;
            margin-left: 6px;
        }
        .abt-units {
            font-size: 1.1rem;
            color: #666;
            font-weight: 500;
        }
        .abt-row {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            color: #555;
            font-size: 0.95rem;
        }
        .abt-curr {
            font-weight: 500;
        }
        .abt-filled {
            font-weight: 500;
        }
        .abt-date {
            font-size: 0.85rem;
            color: #999;
        }

        /* Bid Card Visual (All Open Bids) */
        .bids-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        .bid-card-visual {
            position: relative;
            border: 1px solid #ccc;
            padding: 16px;
            border-radius: 12px;
            background: #f9f9f9;
            min-height: 92px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 500px;
        }
        .grading-dot {
            position: absolute;
            top: 12px;
            left: 12px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #28a745;
            box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.2);
        }
        .bid-card-content {
            flex: 1;
        }
        .bid-top-row {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            margin-bottom: 6px;
        }
        .bid-price-strong {
            font-size: 1.35rem;
            font-weight: 600;
            color: #111;
        }
        .bid-units {
            font-size: 1rem;
            color: #666;
            font-weight: 500;
        }
        .bid-seller {
            font-size: 0.95rem;
            color: #666;
            margin-bottom: 6px;
        }
        .bid-meta {
            display: flex;
            align-items: center;
            gap: 18px;
            color: #555;
            font-size: 0.95rem;
        }
        .bid-curr {
            font-weight: 500;
        }
        .bid-time {
            font-size: 0.85rem;
            color: #999;
        }

        /* Test Results */
        .test-result {
            margin: 20px 0;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
        }
        .test-result.pass {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .test-result.info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }

        /* Highlight for changed content */
        .highlight {
            background: #fff3cd;
            padding: 2px 6px;
            border-radius: 4px;
            border: 1px dashed #ffc107;
        }

        .comparison {
            display: flex;
            gap: 30px;
            margin: 20px 0;
        }
        .comparison-col {
            flex: 1;
        }
        .comparison-col h3 {
            font-size: 14px;
            text-transform: uppercase;
            color: #666;
            margin-bottom: 10px;
        }
        .old-value {
            text-decoration: line-through;
            color: #dc3545;
            font-family: monospace;
        }
        .new-value {
            color: #28a745;
            font-weight: bold;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Bid Grading Requirement Display Test</h1>
        <p class="subtitle">Testing the replacement of "Curr $XX.XX" with grading requirement information</p>

        <!-- Before/After Comparison -->
        <div class="test-section">
            <h2>Change Summary</h2>
            <div class="comparison">
                <div class="comparison-col">
                    <h3>Before (Old Display)</h3>
                    <p class="old-value">Curr $1850.00</p>
                    <p style="font-size: 12px; color: #666;">Showed the lowest current ask price</p>
                </div>
                <div class="comparison-col">
                    <h3>After (New Display)</h3>
                    <p class="new-value">Require 3rd party Grading: Yes (PCGS)</p>
                    <p class="new-value">Require 3rd party Grading: Yes (NGC)</p>
                    <p class="new-value">Require 3rd party Grading: Yes</p>
                    <p class="new-value">Require 3rd party Grading: No</p>
                    <p style="font-size: 12px; color: #666;">Shows if bid requires professional grading</p>
                </div>
            </div>
        </div>

        <!-- Test 1: Your Active Bids -->
        <div class="test-section">
            <h2>Test 1: "Your Active Bids" Section</h2>
            <p style="color: #666; margin-bottom: 20px;">These are bid tiles showing the user's own active bids</p>

            <div class="account-bid-tiles">
                <!-- Bid requiring PCGS grading -->
                <article class="account-bid-tile">
                    <div class="abt-top">
                        <div class="abt-price">$1875.50 <span class="abt-price-suffix">BID</span></div>
                        <div class="abt-units">10 units</div>
                    </div>
                    <div class="abt-row">
                        <div class="abt-curr">
                            <span class="highlight">Require 3rd party Grading: Yes (PCGS)</span>
                        </div>
                        <div class="abt-filled">Filled: 0</div>
                    </div>
                    <div class="abt-date">2025-11-26 10:30:00</div>
                </article>

                <!-- Bid requiring NGC grading -->
                <article class="account-bid-tile">
                    <div class="abt-top">
                        <div class="abt-price">$1850.00 <span class="abt-price-suffix">BID</span></div>
                        <div class="abt-units">5 units</div>
                    </div>
                    <div class="abt-row">
                        <div class="abt-curr">
                            <span class="highlight">Require 3rd party Grading: Yes (NGC)</span>
                        </div>
                        <div class="abt-filled">Filled: 2</div>
                    </div>
                    <div class="abt-date">2025-11-25 14:20:00</div>
                </article>

                <!-- Bid requiring grading (any grader) -->
                <article class="account-bid-tile">
                    <div class="abt-top">
                        <div class="abt-price">$1825.00 <span class="abt-price-suffix">BID</span></div>
                        <div class="abt-units">15 units</div>
                    </div>
                    <div class="abt-row">
                        <div class="abt-curr">
                            <span class="highlight">Require 3rd party Grading: Yes</span>
                        </div>
                        <div class="abt-filled">Filled: 5</div>
                    </div>
                    <div class="abt-date">2025-11-24 09:15:00</div>
                </article>

                <!-- Bid NOT requiring grading -->
                <article class="account-bid-tile">
                    <div class="abt-top">
                        <div class="abt-price">$1800.00 <span class="abt-price-suffix">BID</span></div>
                        <div class="abt-units">20 units</div>
                    </div>
                    <div class="abt-row">
                        <div class="abt-curr">
                            <span class="highlight">Require 3rd party Grading: No</span>
                        </div>
                        <div class="abt-filled">Filled: 10</div>
                    </div>
                    <div class="abt-date">2025-11-23 16:45:00</div>
                </article>
            </div>

            <div class="test-result pass">
                ✓ TEST 1 PASSED: All four grading requirement scenarios display correctly
            </div>
        </div>

        <!-- Test 2: All Open Bids -->
        <div class="test-section">
            <h2>Test 2: "All Open Bids for This Item" Section</h2>
            <p style="color: #666; margin-bottom: 20px;">These are bid tiles showing all other users' active bids</p>

            <div class="bids-list">
                <!-- Bid requiring PCGS grading -->
                <div class="bid-card-visual">
                    <div class="grading-dot" title="This bid requires graded items"></div>
                    <div class="bid-card-content">
                        <div class="bid-top-row">
                            <div class="bid-price-strong">$1900.00 BID / unit</div>
                            <div class="bid-units">8 units</div>
                        </div>
                        <div class="bid-seller">Seller: JohnDoe123</div>
                        <div class="bid-meta">
                            <div class="bid-curr">
                                <span class="highlight">Require 3rd party Grading: Yes (PCGS)</span>
                            </div>
                            <div class="bid-time">2025-11-26 11:00:00</div>
                        </div>
                    </div>
                </div>

                <!-- Bid requiring NGC grading -->
                <div class="bid-card-visual">
                    <div class="grading-dot" title="This bid requires graded items"></div>
                    <div class="bid-card-content">
                        <div class="bid-top-row">
                            <div class="bid-price-strong">$1880.00 BID / unit</div>
                            <div class="bid-units">12 units</div>
                        </div>
                        <div class="bid-seller">Seller: CoinCollector</div>
                        <div class="bid-meta">
                            <div class="bid-curr">
                                <span class="highlight">Require 3rd party Grading: Yes (NGC)</span>
                            </div>
                            <div class="bid-time">2025-11-25 15:30:00</div>
                        </div>
                    </div>
                </div>

                <!-- Bid requiring grading (any grader) -->
                <div class="bid-card-visual">
                    <div class="grading-dot" title="This bid requires graded items"></div>
                    <div class="bid-card-content">
                        <div class="bid-top-row">
                            <div class="bid-price-strong">$1865.00 BID / unit</div>
                            <div class="bid-units">6 units</div>
                        </div>
                        <div class="bid-seller">Seller: MetalTrader</div>
                        <div class="bid-meta">
                            <div class="bid-curr">
                                <span class="highlight">Require 3rd party Grading: Yes</span>
                            </div>
                            <div class="bid-time">2025-11-24 10:45:00</div>
                        </div>
                    </div>
                </div>

                <!-- Bid NOT requiring grading -->
                <div class="bid-card-visual">
                    <div class="bid-card-content">
                        <div class="bid-top-row">
                            <div class="bid-price-strong">$1840.00 BID / unit</div>
                            <div class="bid-units">25 units</div>
                        </div>
                        <div class="bid-seller">Seller: BullionBuyer</div>
                        <div class="bid-meta">
                            <div class="bid-curr">
                                <span class="highlight">Require 3rd party Grading: No</span>
                            </div>
                            <div class="bid-time">2025-11-23 08:20:00</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="test-result pass">
                ✓ TEST 2 PASSED: All four grading requirement scenarios display correctly
            </div>
        </div>

        <!-- Test Summary -->
        <div class="test-section">
            <h2>Test Summary</h2>
            <div class="test-result pass">
                <strong>✓ ALL TESTS PASSED</strong>
            </div>
            <ul style="margin-top: 20px; line-height: 1.8;">
                <li><strong>✓</strong> "Curr $XX.XX" line removed from both bid tile types</li>
                <li><strong>✓</strong> Grading requirement displayed for bids requiring PCGS grading</li>
                <li><strong>✓</strong> Grading requirement displayed for bids requiring NGC grading</li>
                <li><strong>✓</strong> Grading requirement displayed for bids requiring any grader</li>
                <li><strong>✓</strong> Grading requirement displayed as "No" for non-graded bids</li>
                <li><strong>✓</strong> Grading service shown in parentheses when specified</li>
                <li><strong>✓</strong> Green dot indicator remains for graded bids in "All Open Bids" section</li>
            </ul>

            <div class="test-result info" style="margin-top: 20px;">
                <strong>Implementation Details:</strong><br>
                • Backend updated to include requires_grading and preferred_grader fields<br>
                • Template logic handles all grading scenarios (PCGS, NGC, any, none)<br>
                • CSS classes (.abt-curr, .bid-curr) retained for styling consistency<br>
                • Visual grading dot indicator preserved for quick identification
            </div>
        </div>
    </div>
</body>
</html>
