<!-- Bid Confirmation Modal (Centered Pop-up) -->
<div id="bidConfirmModal" class="bid-confirm-overlay" style="display: none;">
  <div class="bid-confirm-dialog">
    <!-- Unified close button - positioned relative to modal card -->
    <button type="button" class="modal-close" onclick="closeBidConfirmModal()" aria-label="Close modal">&times;</button>
    <div class="bid-confirm-header">
      <h2>Confirm Bid</h2>
    </div>

    <div class="bid-confirm-body">
      <div class="bid-confirm-summary">
        <p class="bid-confirm-message">You are about to place/update the following bid:</p>

        <!-- Item Details Section -->
        <h4>Item Details</h4>
        <div class="item-specs-grid">
          <div class="spec-item" id="confirm-spec-metal">
            <span class="spec-label">Metal:</span>
            <span class="spec-value">—</span>
          </div>
          <div class="spec-item" id="confirm-spec-product-line">
            <span class="spec-label">Product Line:</span>
            <span class="spec-value">—</span>
          </div>
          <div class="spec-item" id="confirm-spec-product-type">
            <span class="spec-label">Product Type:</span>
            <span class="spec-value">—</span>
          </div>
          <div class="spec-item" id="confirm-spec-weight">
            <span class="spec-label">Weight:</span>
            <span class="spec-value">—</span>
          </div>
          <div class="spec-item" id="confirm-spec-grade">
            <span class="spec-label">Grade:</span>
            <span class="spec-value">—</span>
          </div>
          <div class="spec-item" id="confirm-spec-year">
            <span class="spec-label">Year:</span>
            <span class="spec-value">—</span>
          </div>
          <div class="spec-item" id="confirm-spec-mint">
            <span class="spec-label">Mint:</span>
            <span class="spec-value">—</span>
          </div>
          <div class="spec-item" id="confirm-spec-purity">
            <span class="spec-label">Purity:</span>
            <span class="spec-value">—</span>
          </div>
          <div class="spec-item" id="confirm-spec-finish">
            <span class="spec-label">Finish:</span>
            <span class="spec-value">—</span>
          </div>
        </div>

        <!-- Grading Requirement Section -->
        <h4>Grading Requirement</h4>
        <div class="detail-content-box">
          <div class="detail-row">
            <span class="detail-label">Requires Grading:</span>
            <span class="detail-value" id="bid-confirm-grading">—</span>
          </div>
        </div>

        <!-- Price Details Section -->
        <h4>Price Details</h4>
        <div class="detail-content-box">
          <!-- Pricing Mode -->
          <div class="detail-row" id="bid-confirm-mode-row" style="display: none;">
            <span class="detail-label">Pricing Mode:</span>
            <span class="detail-value" id="bid-confirm-mode">—</span>
          </div>

          <!-- Variable Pricing: Current Spot Price -->
          <div class="detail-row" id="bid-confirm-spot-row" style="display: none;">
            <span class="detail-label">Current Spot Price:</span>
            <span class="detail-value" id="bid-confirm-spot">—</span>
          </div>

          <!-- Variable Pricing: Spot Premium -->
          <div class="detail-row" id="bid-confirm-premium-row" style="display: none;">
            <span class="detail-label">Premium Above Spot:</span>
            <span class="detail-value" id="bid-confirm-premium">—</span>
          </div>

          <!-- Variable Pricing: Max Price (Ceiling) -->
          <div class="detail-row" id="bid-confirm-ceiling-row" style="display: none;">
            <span class="detail-label">Max Price (Ceiling):</span>
            <span class="detail-value" id="bid-confirm-ceiling">—</span>
          </div>

          <!-- Price per Item -->
          <div class="detail-row">
            <span class="detail-label" id="bid-confirm-price-label">Your bid per item:</span>
            <span class="detail-value price-highlight" id="bid-confirm-price">—</span>
          </div>

          <!-- Quantity -->
          <div class="detail-row">
            <span class="detail-label">Quantity:</span>
            <span class="detail-value" id="bid-confirm-quantity">—</span>
          </div>

          <!-- Total Bid Value -->
          <div class="detail-row">
            <span class="detail-label">Total bid value:</span>
            <span class="detail-value total-highlight" id="bid-confirm-total">—</span>
          </div>
        </div>

        <!-- Delivery Address Section -->
        <h4>Delivery Address</h4>
        <div class="detail-content-box">
          <div class="detail-row" id="confirm-address-line1-row">
            <span class="detail-label">Address Line 1:</span>
            <span class="detail-value" id="confirm-address-line1">—</span>
          </div>
          <div class="detail-row" id="confirm-address-line2-row">
            <span class="detail-label">Address Line 2:</span>
            <span class="detail-value" id="confirm-address-line2">—</span>
          </div>
          <div class="detail-row" id="confirm-address-city-row">
            <span class="detail-label">City:</span>
            <span class="detail-value" id="confirm-address-city">—</span>
          </div>
          <div class="detail-row" id="confirm-address-state-row">
            <span class="detail-label">State:</span>
            <span class="detail-value" id="confirm-address-state">—</span>
          </div>
          <div class="detail-row" id="confirm-address-zip-row">
            <span class="detail-label">ZIP Code:</span>
            <span class="detail-value" id="confirm-address-zip">—</span>
          </div>
        </div>

        <p class="bid-confirm-question">Do you want to confirm this bid?</p>
        <hr class="bid-confirm-divider">
      </div>
    </div>

    <div class="bid-confirm-footer">
      <button type="button" class="btn btn-secondary" onclick="closeBidConfirmModal()">Cancel</button>
      <button type="button" class="btn btn-primary" id="bidConfirmBtn">Confirm Bid</button>
    </div>
  </div>
</div>

<!-- Bid Success Modal -->
<div id="bidSuccessModal" class="bid-success-overlay" style="display: none;">
  <div class="bid-success-dialog">
    <!-- Unified close button - positioned relative to modal card -->
    <button type="button" class="modal-close" onclick="closeBidSuccessModal()" aria-label="Close">&times;</button>
    <div class="modal-header success-header">
      <h2>Bid Placed Successfully!</h2>
    </div>

    <div class="modal-body">
      <div class="success-content">
        <p class="success-message">Your bid has been placed successfully!</p>

        <div class="order-details">
          <h3>Bid Summary</h3>

          <!-- Bid Details Section -->
          <h4>Bid Details</h4>
          <div class="detail-content-box">
              <!-- Pricing Mode -->
              <div class="detail-row" id="success-mode-row" style="display: none;">
                <span class="detail-label">Pricing Mode:</span>
                <span class="detail-value" id="success-bid-mode">—</span>
              </div>

              <!-- Variable Pricing: Current Spot Price -->
              <div class="detail-row" id="success-spot-row" style="display: none;">
                <span class="detail-label">Current Spot Price:</span>
                <span class="detail-value" id="success-spot-price">—</span>
              </div>

              <!-- Variable Pricing: Premium -->
              <div class="detail-row" id="success-premium-row" style="display: none;">
                <span class="detail-label">Premium Above Spot:</span>
                <span class="detail-value" id="success-bid-premium">—</span>
              </div>

              <!-- Variable Pricing: Max Price (Ceiling) -->
              <div class="detail-row" id="success-ceiling-row" style="display: none;">
                <span class="detail-label">Max Price (Ceiling):</span>
                <span class="detail-value" id="success-bid-ceiling">—</span>
              </div>

              <!-- Effective Price (for variable bids) -->
              <div class="detail-row" id="success-effective-row" style="display: none;">
                <span class="detail-label">Current Effective Bid Price:</span>
                <span class="detail-value price-highlight" id="success-effective-price">—</span>
              </div>

              <div class="detail-row">
                <span class="detail-label">Quantity:</span>
                <span class="detail-value" id="success-bid-quantity">—</span>
              </div>
              <div class="detail-row" id="success-price-row">
                <span class="detail-label" id="success-price-label">Price per Item:</span>
                <span class="detail-value price-highlight" id="success-bid-price">—</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Total Bid Value:</span>
                <span class="detail-value total-highlight" id="success-bid-total">—</span>
              </div>
          </div>

          <!-- Item Details Section -->
          <h4>Item Details</h4>
          <div class="item-specs-grid">
              <div class="spec-item" id="success-spec-metal">
                <span class="spec-label">Metal:</span>
                <span class="spec-value">—</span>
              </div>
              <div class="spec-item" id="success-spec-product-line">
                <span class="spec-label">Product Line:</span>
                <span class="spec-value">—</span>
              </div>
              <div class="spec-item" id="success-spec-product-type">
                <span class="spec-label">Product Type:</span>
                <span class="spec-value">—</span>
              </div>
              <div class="spec-item" id="success-spec-weight">
                <span class="spec-label">Weight:</span>
                <span class="spec-value">—</span>
              </div>
              <div class="spec-item" id="success-spec-grade">
                <span class="spec-label">Grade:</span>
                <span class="spec-value">—</span>
              </div>
              <div class="spec-item" id="success-spec-year">
                <span class="spec-label">Year:</span>
                <span class="spec-value">—</span>
              </div>
              <div class="spec-item" id="success-spec-mint">
                <span class="spec-label">Mint:</span>
                <span class="spec-value">—</span>
              </div>
              <div class="spec-item" id="success-spec-purity">
                <span class="spec-label">Purity:</span>
                <span class="spec-value">—</span>
              </div>
              <div class="spec-item" id="success-spec-finish">
                <span class="spec-label">Finish:</span>
                <span class="spec-value">—</span>
              </div>
            </div>
          </div>

          <!-- Grading Requirement Section -->
          <h4>Grading Requirement</h4>
          <div class="detail-content-box">
            <div class="detail-row">
              <span class="detail-label">Requires Grading:</span>
              <span class="detail-value" id="success-bid-grading">—</span>
            </div>
          </div>

          <h4>Delivery Address</h4>
          <div class="detail-content-box">
            <div class="detail-row" id="success-address-line1-row" style="display: none;">
              <span class="detail-label">Address Line 1:</span>
              <span class="detail-value" id="success-address-line1">—</span>
            </div>
            <div class="detail-row" id="success-address-line2-row" style="display: none;">
              <span class="detail-label">Address Line 2:</span>
              <span class="detail-value" id="success-address-line2">—</span>
            </div>
            <div class="detail-row" id="success-address-city-row" style="display: none;">
              <span class="detail-label">City:</span>
              <span class="detail-value" id="success-address-city">—</span>
            </div>
            <div class="detail-row" id="success-address-state-row" style="display: none;">
              <span class="detail-label">State:</span>
              <span class="detail-value" id="success-address-state">—</span>
            </div>
            <div class="detail-row" id="success-address-zip-row" style="display: none;">
              <span class="detail-label">ZIP Code:</span>
              <span class="detail-value" id="success-address-zip">—</span>
            </div>
          </div>

          <div class="shipping-notice">
            <strong>Next Steps:</strong> Sellers can now see and accept your bid. You'll be notified when a seller accepts your bid, and your order will be placed automatically. You can view and manage your bids in the Bids tab of your account.
          </div>
        </div>
      </div>
    </div>

    <div class="modal-footer success-footer">
      <hr class="footer-divider">
      <button type="button" class="btn btn-primary" onclick="closeBidSuccessModal()">Close</button>
    </div>
  </div>
</div>
