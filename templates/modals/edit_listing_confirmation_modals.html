<!-- ==========================================================================
     Edit Listing Confirmation & Success Modals
     Two-step flow matching Buy and Bid patterns
     ========================================================================== -->

<!-- ============ Edit Listing Confirmation Modal ============ -->
<div id="editListingConfirmModal" class="edit-confirm-overlay" style="display: none;">
  <div class="edit-confirm-dialog">
    <!-- Unified close button -->
    <button type="button" class="modal-close" onclick="closeEditListingConfirmModal()" aria-label="Close modal">&times;</button>

    <div class="edit-confirm-header">
      <h2>Confirm Listing Changes</h2>
    </div>

    <div class="edit-confirm-body">
      <div class="edit-confirm-summary">
        <p class="edit-confirm-message">You are about to update the following listing:</p>

        <!-- Item Details Section -->
        <div class="edit-summary-section">
          <h4 class="edit-summary-section-title">Item Details</h4>
          <div class="edit-summary-grid">
            <div class="edit-summary-row">
              <span class="edit-summary-label">Metal:</span>
              <span class="edit-summary-value" id="edit-confirm-metal">â€”</span>
            </div>
            <div class="edit-summary-row">
              <span class="edit-summary-label">Product Line:</span>
              <span class="edit-summary-value" id="edit-confirm-product-line">â€”</span>
            </div>
            <div class="edit-summary-row">
              <span class="edit-summary-label">Product Type:</span>
              <span class="edit-summary-value" id="edit-confirm-product-type">â€”</span>
            </div>
            <div class="edit-summary-row">
              <span class="edit-summary-label">Weight:</span>
              <span class="edit-summary-value" id="edit-confirm-weight">â€”</span>
            </div>
            <div class="edit-summary-row">
              <span class="edit-summary-label">Year:</span>
              <span class="edit-summary-value" id="edit-confirm-year">â€”</span>
            </div>
            <div class="edit-summary-row">
              <span class="edit-summary-label">Mint:</span>
              <span class="edit-summary-value" id="edit-confirm-mint">â€”</span>
            </div>
            <div class="edit-summary-row">
              <span class="edit-summary-label">Finish:</span>
              <span class="edit-summary-value" id="edit-confirm-finish">â€”</span>
            </div>
            <div class="edit-summary-row">
              <span class="edit-summary-label">Grade:</span>
              <span class="edit-summary-value" id="edit-confirm-grade">â€”</span>
            </div>
            <div class="edit-summary-row">
              <span class="edit-summary-label">Quantity:</span>
              <span class="edit-summary-value" id="edit-confirm-quantity">â€”</span>
            </div>
            <div class="edit-summary-row">
              <span class="edit-summary-label">Graded:</span>
              <span class="edit-summary-value" id="edit-confirm-grading">â€”</span>
            </div>
            <div class="edit-summary-row">
              <span class="edit-summary-label">Photo:</span>
              <span class="edit-summary-value" id="edit-confirm-photo">â€”</span>
            </div>
          </div>
        </div>

        <!-- Pricing Details Section -->
        <div class="edit-summary-section">
          <h4 class="edit-summary-section-title">Pricing Details</h4>
          <div class="edit-summary-grid">
            <div class="edit-summary-row">
              <span class="edit-summary-label">Pricing Mode:</span>
              <span class="edit-summary-value" id="edit-confirm-mode">â€”</span>
            </div>

            <!-- Variable Pricing: Current Spot Price -->
            <div class="edit-summary-row" id="edit-confirm-current-spot-row" style="display: none;">
              <span class="edit-summary-label">Current Spot Price:</span>
              <span class="edit-summary-value" id="edit-confirm-current-spot">â€”</span>
            </div>

            <!-- Variable Pricing: Spot Premium -->
            <div class="edit-summary-row" id="edit-confirm-premium-row" style="display: none;">
              <span class="edit-summary-label">Premium Above Spot:</span>
              <span class="edit-summary-value" id="edit-confirm-premium">â€”</span>
            </div>

            <!-- Variable Pricing: Floor Price -->
            <div class="edit-summary-row" id="edit-confirm-floor-row" style="display: none;">
              <span class="edit-summary-label">Floor Price (Minimum):</span>
              <span class="edit-summary-value" id="edit-confirm-floor">â€”</span>
            </div>

            <!-- Variable Pricing: Current Effective Price -->
            <div class="edit-summary-row" id="edit-confirm-effective-row" style="display: none;">
              <span class="edit-summary-label">Current Effective Price:</span>
              <span class="edit-summary-value price-highlight" id="edit-confirm-effective">â€”</span>
            </div>

            <!-- Static Pricing: Price per Item -->
            <div class="edit-summary-row" id="edit-confirm-static-price-row" style="display: none;">
              <span class="edit-summary-label">Price per Item:</span>
              <span class="edit-summary-value price-highlight" id="edit-confirm-static-price">â€”</span>
            </div>
          </div>
        </div>

        <p class="edit-confirm-question">Do you want to save these changes?</p>
        <hr class="edit-confirm-divider">
      </div>
    </div>

    <div class="edit-confirm-footer">
      <button type="button" class="btn btn-secondary" onclick="closeEditListingConfirmModal()">Cancel</button>
      <button type="button" class="btn btn-primary" id="editConfirmBtn">Save Changes</button>
    </div>
  </div>
</div>

<!-- ============ Edit Listing Success Modal ============ -->
<div id="editListingSuccessModal" class="edit-success-overlay" style="display: none;">
  <div class="edit-success-dialog">
    <!-- Unified close button -->
    <button type="button" class="modal-close" onclick="closeEditListingSuccessModal()" aria-label="Close">&times;</button>

    <div class="modal-header success-header">
      <h2>ðŸŽ‰ Listing Updated Successfully!</h2>
    </div>

    <div class="modal-body">
      <div class="success-content">
        <p class="success-message">Your listing has been updated successfully!</p>

        <div class="order-details">
          <h3>Updated Listing Summary</h3>

          <div class="detail-section">
            <h4>Item Details</h4>

            <div class="detail-row">
              <span class="detail-label">Metal:</span>
              <span class="detail-value" id="success-metal">â€”</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Product Line:</span>
              <span class="detail-value" id="success-product-line">â€”</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Product Type:</span>
              <span class="detail-value" id="success-product-type">â€”</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Weight:</span>
              <span class="detail-value" id="success-weight">â€”</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Year:</span>
              <span class="detail-value" id="success-year">â€”</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Mint:</span>
              <span class="detail-value" id="success-mint">â€”</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Finish:</span>
              <span class="detail-value" id="success-finish">â€”</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Grade:</span>
              <span class="detail-value" id="success-grade">â€”</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Quantity:</span>
              <span class="detail-value" id="success-quantity">â€”</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Graded:</span>
              <span class="detail-value" id="success-grading">â€”</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Photo:</span>
              <span class="detail-value" id="success-photo">â€”</span>
            </div>
          </div>

          <div class="detail-section">
            <h4>Pricing Details</h4>

            <!-- Pricing Mode -->
            <div class="detail-row">
              <span class="detail-label">Pricing Mode:</span>
              <span class="detail-value" id="edit-success-pricing-mode">â€”</span>
            </div>

            <!-- Variable Pricing: Current Spot Price -->
            <div class="detail-row" id="edit-success-current-spot-row" style="display: none;">
              <span class="detail-label">Current Spot Price:</span>
              <span class="detail-value" id="edit-success-current-spot">â€”</span>
            </div>

            <!-- Variable Pricing Fields -->
            <div class="detail-row" id="edit-success-premium-row" style="display: none;">
              <span class="detail-label">Premium Above Spot:</span>
              <span class="detail-value" id="edit-success-premium">â€”</span>
            </div>

            <div class="detail-row" id="edit-success-floor-row" style="display: none;">
              <span class="detail-label">Floor Price (Minimum):</span>
              <span class="detail-value" id="edit-success-floor">â€”</span>
            </div>

            <div class="detail-row" id="edit-success-effective-row" style="display: none;">
              <span class="detail-label">Current Effective Price:</span>
              <span class="detail-value price-highlight" id="edit-success-effective">â€”</span>
            </div>

            <!-- Static Pricing Field -->
            <div class="detail-row" id="edit-success-static-price-row" style="display: none;">
              <span class="detail-label">Price per Item:</span>
              <span class="detail-value price-highlight" id="edit-success-static-price">â€”</span>
            </div>
          </div>

          <div class="shipping-notice">
            <strong>Next Steps:</strong> Your updated listing is now live! Buyers can see your changes immediately. You can view and manage your listings in the Listings tab of your account.
          </div>
        </div>
      </div>
    </div>

    <div class="modal-footer success-footer">
      <hr class="footer-divider">
      <button type="button" class="btn btn-primary" onclick="closeEditListingSuccessModal()">Close</button>
    </div>
  </div>
</div>
