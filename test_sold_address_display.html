<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Sold Tab Address Display</title>
  <link rel="stylesheet" href="static/css/tabs/sold_tab.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f3f4f6;
      padding: 40px;
      margin: 0;
    }

    .test-header {
      background: white;
      padding: 30px;
      border-radius: 12px;
      margin-bottom: 30px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .test-header h1 {
      margin-top: 0;
      color: #111827;
    }

    .test-section {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
      border-left: 4px solid #0066cc;
    }

    .test-section h3 {
      margin-top: 0;
      color: #111827;
    }

    .status-indicator {
      padding: 12px;
      border-radius: 8px;
      margin-top: 20px;
      font-weight: 600;
    }

    .status-success {
      background: #d1fae5;
      color: #065f46;
      border: 2px solid #10b981;
    }

    /* Override grid to single column for testing */
    .order-grid {
      grid-template-columns: 1fr !important;
    }
  </style>
</head>
<body>
  <div class="test-header">
    <h1>Test: Sold Tab Address Display</h1>
    <p>This test verifies that addresses are properly parsed and displayed with separate labeled rows for Address Line 1, Address Line 2 (optional), City, State, and ZIP Code.</p>

    <div class="test-section">
      <h3>Test Scenarios:</h3>
      <ol>
        <li><strong>Without Address Line 2:</strong> "123 Main St • Brooklyn, NY 12345"</li>
        <li><strong>With Address Line 2:</strong> "456 Park Ave • Apt 6D • Manhattan, NY 10022"</li>
        <li><strong>With Suite:</strong> "789 Business Blvd • Suite 200 • Queens, NY 11101"</li>
      </ol>
    </div>

    <div class="status-indicator status-success">
      ✓ Test data loaded. Scroll down to see address parsing results.
    </div>
  </div>

  <div class="sold-tab">
    <h2 class="tab-heading">Sold Items (Test Data)</h2>

    <div class="order-grid">
      <!-- Test Case 1: No Address Line 2 -->
      <div class="order-tile sold-tile-compact" id="order-1">
        <div class="sold-tile-header">
          <div class="item-title-section">
            <h3 class="item-title">1 oz 2024 Silver American Eagle</h3>
            <div class="status-badge status-delivered">
              <span class="status-dot"></span>
              <span class="status-text">Delivered</span>
            </div>
          </div>
        </div>

        <div class="sold-tile-content">
          <!-- Price Details -->
          <div class="sold-section price-details-section">
            <h4 class="section-title">Price Details</h4>
            <div class="price-details-box">
              <div class="price-line">
                <span class="price-label">Quantity:</span>
                <span class="price-value">10</span>
              </div>
              <div class="price-line">
                <span class="price-label">Price/Item:</span>
                <span class="price-value">$32.50</span>
              </div>
              <div class="price-line total-line">
                <span class="price-label">Total:</span>
                <span class="price-value">$325.00</span>
              </div>
            </div>
          </div>

          <!-- Item Details -->
          <div class="sold-section item-description-section">
            <h4 class="section-title">Item Details</h4>
            <div class="item-details-box">
              <div class="detail-line"><strong>Metal:</strong> <span>Silver</span></div>
              <div class="detail-line"><strong>Type:</strong> <span>Coin</span></div>
              <div class="detail-line"><strong>Weight:</strong> <span>1 oz</span></div>
              <div class="detail-line"><strong>Year:</strong> <span>2024</span></div>
              <div class="detail-line"><strong>Purity:</strong> <span>.999</span></div>
              <div class="detail-line"><strong>Mint:</strong> <span>US Mint</span></div>
            </div>
          </div>

          <!-- Buyer Info -->
          <div class="sold-section buyer-info-section">
            <h4 class="section-title">Buyer Information</h4>
            <div class="buyer-details-box">
              <div class="buyer-line">
                <i class="fas fa-id-card"></i>
                <span><strong>Name:</strong> John Smith</span>
              </div>
              <div class="buyer-line">
                <i class="fas fa-user"></i>
                <span><strong>Username:</strong> jsmith123</span>
              </div>
              <div class="buyer-line">
                <i class="fas fa-calendar"></i>
                <span><strong>Order Date:</strong> 2024-01-15</span>
              </div>
            </div>
          </div>

          <!-- Shipping Address - TEST CASE 1: Without Line 2 -->
          <div class="sold-section shipping-address-section">
            <h4 class="section-title">Shipping Address</h4>
            <div class="address-details-box">
              <!-- Simulating Jinja template parsing -->
              <div class="address-line">
                <strong>Address Line 1:</strong>
                <span>123 Main St</span>
              </div>
              <div class="address-line">
                <strong>City:</strong>
                <span>Brooklyn</span>
              </div>
              <div class="address-line">
                <strong>State:</strong>
                <span>NY</span>
              </div>
              <div class="address-line">
                <strong>ZIP Code:</strong>
                <span>12345</span>
              </div>
            </div>
          </div>
        </div>

        <div class="sold-actions-row">
          <button class="sold-action-btn sold-action-btn--message">
            <i class="fas fa-envelope"></i>
            <span>Message</span>
          </button>
          <button class="sold-action-btn sold-action-btn--rate">
            <i class="fas fa-star"></i>
            <span>Rate Buyer</span>
          </button>
          <button class="sold-action-btn sold-action-btn--tracking">
            <i class="fas fa-box"></i>
            <span>Add Tracking</span>
          </button>
        </div>
      </div>

      <!-- Test Case 2: With Address Line 2 (Apartment) -->
      <div class="order-tile sold-tile-compact" id="order-2">
        <div class="sold-tile-header">
          <div class="item-title-section">
            <h3 class="item-title">1 oz 2023 Gold American Eagle</h3>
            <div class="status-badge status-pending-shipment">
              <span class="status-dot"></span>
              <span class="status-text">Pending Shipment</span>
            </div>
          </div>
        </div>

        <div class="sold-tile-content">
          <!-- Price Details -->
          <div class="sold-section price-details-section">
            <h4 class="section-title">Price Details</h4>
            <div class="price-details-box">
              <div class="price-line">
                <span class="price-label">Quantity:</span>
                <span class="price-value">2</span>
              </div>
              <div class="price-line">
                <span class="price-label">Price/Item:</strong>
                <span class="price-value">$2,050.00</span>
              </div>
              <div class="price-line total-line">
                <span class="price-label">Total:</span>
                <span class="price-value">$4,100.00</span>
              </div>
            </div>
          </div>

          <!-- Item Details -->
          <div class="sold-section item-description-section">
            <h4 class="section-title">Item Details</h4>
            <div class="item-details-box">
              <div class="detail-line"><strong>Metal:</strong> <span>Gold</span></div>
              <div class="detail-line"><strong>Type:</strong> <span>Coin</span></div>
              <div class="detail-line"><strong>Weight:</strong> <span>1 oz</span></div>
              <div class="detail-line"><strong>Year:</strong> <span>2023</span></div>
              <div class="detail-line"><strong>Purity:</strong> <span>.9999</span></div>
              <div class="detail-line"><strong>Mint:</strong> <span>US Mint</span></div>
            </div>
          </div>

          <!-- Buyer Info -->
          <div class="sold-section buyer-info-section">
            <h4 class="section-title">Buyer Information</h4>
            <div class="buyer-details-box">
              <div class="buyer-line">
                <i class="fas fa-id-card"></i>
                <span><strong>Name:</strong> Sarah Johnson</span>
              </div>
              <div class="buyer-line">
                <i class="fas fa-user"></i>
                <span><strong>Username:</strong> sjohnson456</span>
              </div>
              <div class="buyer-line">
                <i class="fas fa-calendar"></i>
                <span><strong>Order Date:</strong> 2024-01-20</span>
              </div>
            </div>
          </div>

          <!-- Shipping Address - TEST CASE 2: With Address Line 2 (Apartment) -->
          <div class="sold-section shipping-address-section">
            <h4 class="section-title">Shipping Address</h4>
            <div class="address-details-box">
              <!-- Simulating Jinja template parsing -->
              <div class="address-line">
                <strong>Address Line 1:</strong>
                <span>456 Park Ave</span>
              </div>
              <div class="address-line">
                <strong>Address Line 2:</strong>
                <span>Apt 6D</span>
              </div>
              <div class="address-line">
                <strong>City:</strong>
                <span>Manhattan</span>
              </div>
              <div class="address-line">
                <strong>State:</strong>
                <span>NY</span>
              </div>
              <div class="address-line">
                <strong>ZIP Code:</strong>
                <span>10022</span>
              </div>
            </div>
          </div>
        </div>

        <div class="sold-actions-row">
          <button class="sold-action-btn sold-action-btn--message">
            <i class="fas fa-envelope"></i>
            <span>Message</span>
          </button>
          <button class="sold-action-btn sold-action-btn--rate">
            <i class="fas fa-star"></i>
            <span>Rate Buyer</span>
          </button>
          <button class="sold-action-btn sold-action-btn--tracking">
            <i class="fas fa-box"></i>
            <span>Add Tracking</span>
          </button>
        </div>
      </div>

      <!-- Test Case 3: With Address Line 2 (Suite) -->
      <div class="order-tile sold-tile-compact" id="order-3">
        <div class="sold-tile-header">
          <div class="item-title-section">
            <h3 class="item-title">10 oz 2024 Silver Bar</h3>
            <div class="status-badge status-awaiting-delivery">
              <span class="status-dot"></span>
              <span class="status-text">Awaiting Delivery</span>
            </div>
          </div>
        </div>

        <div class="sold-tile-content">
          <!-- Price Details -->
          <div class="sold-section price-details-section">
            <h4 class="section-title">Price Details</h4>
            <div class="price-details-box">
              <div class="price-line">
                <span class="price-label">Quantity:</span>
                <span class="price-value">5</span>
              </div>
              <div class="price-line">
                <span class="price-label">Price/Item:</span>
                <span class="price-value">$310.00</span>
              </div>
              <div class="price-line total-line">
                <span class="price-label">Total:</span>
                <span class="price-value">$1,550.00</span>
              </div>
            </div>
          </div>

          <!-- Item Details -->
          <div class="sold-section item-description-section">
            <h4 class="section-title">Item Details</h4>
            <div class="item-details-box">
              <div class="detail-line"><strong>Metal:</strong> <span>Silver</span></div>
              <div class="detail-line"><strong>Type:</strong> <span>Bar</span></div>
              <div class="detail-line"><strong>Weight:</strong> <span>10 oz</span></div>
              <div class="detail-line"><strong>Year:</strong> <span>2024</span></div>
              <div class="detail-line"><strong>Purity:</strong> <span>.999</span></div>
              <div class="detail-line"><strong>Mint:</strong> <span>Sunshine Mint</span></div>
            </div>
          </div>

          <!-- Buyer Info -->
          <div class="sold-section buyer-info-section">
            <h4 class="section-title">Buyer Information</h4>
            <div class="buyer-details-box">
              <div class="buyer-line">
                <i class="fas fa-id-card"></i>
                <span><strong>Name:</strong> Acme Corp</span>
              </div>
              <div class="buyer-line">
                <i class="fas fa-user"></i>
                <span><strong>Username:</strong> acmecorp</span>
              </div>
              <div class="buyer-line">
                <i class="fas fa-calendar"></i>
                <span><strong>Order Date:</strong> 2024-01-25</span>
              </div>
            </div>
          </div>

          <!-- Shipping Address - TEST CASE 3: With Address Line 2 (Suite) -->
          <div class="sold-section shipping-address-section">
            <h4 class="section-title">Shipping Address</h4>
            <div class="address-details-box">
              <!-- Simulating Jinja template parsing -->
              <div class="address-line">
                <strong>Address Line 1:</strong>
                <span>789 Business Blvd</span>
              </div>
              <div class="address-line">
                <strong>Address Line 2:</strong>
                <span>Suite 200</span>
              </div>
              <div class="address-line">
                <strong>City:</strong>
                <span>Queens</span>
              </div>
              <div class="address-line">
                <strong>State:</strong>
                <span>NY</span>
              </div>
              <div class="address-line">
                <strong>ZIP Code:</strong>
                <span>11101</span>
              </div>
            </div>
          </div>
        </div>

        <div class="sold-actions-row">
          <button class="sold-action-btn sold-action-btn--message">
            <i class="fas fa-envelope"></i>
            <span>Message</span>
          </button>
          <button class="sold-action-btn sold-action-btn--rate">
            <i class="fas fa-star"></i>
            <span>Rate Buyer</span>
          </button>
          <button class="sold-action-btn sold-action-btn--tracking">
            <i class="fas fa-box"></i>
            <span>Add Tracking</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <script>
    // Log test results
    console.log('=== Address Display Test Results ===');
    console.log('Test Case 1 (No Line 2): 123 Main St • Brooklyn, NY 12345');
    console.log('Test Case 2 (With Apt): 456 Park Ave • Apt 6D • Manhattan, NY 10022');
    console.log('Test Case 3 (With Suite): 789 Business Blvd • Suite 200 • Queens, NY 11101');
    console.log('=====================================');
    console.log('✓ All address fields should be displayed as separate labeled rows');
    console.log('✓ Address Line 2 should only appear when present');
  </script>
</body>
</html>
