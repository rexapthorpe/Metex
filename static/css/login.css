:root{
  --header-height: 64px;

  /* Background & brand */
  --bg1:#101728; --bg2:#0b1222; --grad1:#006eff; --grad2:#3ab4ed; --grad3:#3da6ff;

  /* Card & text */
  --card-bg: rgba(255,255,255,0.08);
  --card-border: rgba(255,255,255,0.14);
  --panel-bg: rgba(255,255,255,0.06);
  --text:#1f2a3d;            /* darker text inside white panels */
  --text-invert:#e6e9ef;     /* on dark/overlay */
  --muted:#6b7280;
  --link:#000000;
  --ring:#a3b2ff;
  --radius-xl: 20px; --radius: 12px;
  --shadow: rgba(0,0,0,0.30);

  /* Fit/scale controls */
  --auth-max-w: 900px;
  --auth-max-h: 560px;      /* layout height cap (pre-scale) */
  --auth-scale: 0.88;       /* ~10% larger than 0.8 */
}

/* Page & header spacing */
.login-page { position: relative; min-height: 100svh; }

/* RESTORED: spacer so content starts below fixed header */
.header-spacer { height: var(--header-height) !important; display: block !important; }

/* Animated background */
.bg-animated{
  position: fixed; inset: 0; z-index: -2;
  background:
    radial-gradient(1200px 800px at 10% 10%, color-mix(in oklab, var(--grad1) 24%, transparent), transparent 70%),
    radial-gradient(1000px 700px at 90% 20%, color-mix(in oklab, var(--grad2) 18%, transparent), transparent 70%),
    radial-gradient(900px 900px at 50% 100%, color-mix(in oklab, var(--grad3) 18%, transparent), transparent 70%),
    linear-gradient(160deg, var(--bg1), var(--bg2));
  animation: hueShift 18s ease-in-out infinite alternate;
  filter: saturate(1.15);
}
@keyframes hueShift { 0%{ filter:hue-rotate(0deg) saturate(1.1);} 100%{ filter:hue-rotate(12deg) saturate(1.25);} }
.bg-animated .blob { position:absolute; border-radius:50%; filter: blur(34px); opacity:.45; mix-blend-mode:screen; }
.bg-animated .b1 { width:380px; height:380px; left:-60px; top:18vh;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.25), rgba(255,255,255,0) 60%);
  animation: float1 26s ease-in-out infinite;
}
.bg-animated .b2 { width:320px; height:320px; right:-40px; top:10vh;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.22), rgba(255,255,255,0) 60%);
  animation: float2 22s ease-in-out infinite;
}
.bg-animated .b3 { width:460px; height:460px; left:42vw; bottom:-120px;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.20), rgba(255,255,255,0) 60%);
  animation: float3 28s ease-in-out infinite;
}
@keyframes float1 { 0%{transform:translate(0,0)} 50%{transform:translate(40px,-30px)} 100%{transform:translate(0,0)} }
@keyframes float2 { 0%{transform:translate(0,0)} 50%{transform:translate(-30px,20px)} 100%{transform:translate(0,0)} }
@keyframes float3 { 0%{transform:translate(0,0)} 50%{transform:translate(20px,-20px)} 100%{transform:translate(0,0)} }

/* Shell: sits under header; tiny gap so top shadow shows; no clipping */
.auth-shell{
  --vpad: 30px; /* small top/bottom breathing room to show box-shadow */
  min-height: calc(100svh - var(--header-height));
  display: grid;
  place-items: start center;
  padding: var(--vpad) 0 var(--vpad);
  margin-top: 0 !important;     /* override any global main margin */
  overflow: visible !important; /* ensure shadows aren't clipped */
}

/* Two-pane card with sliding overlay */
.auth-card{
  position: relative;
  width: min(var(--auth-max-w), 92vw);
  height: min(
    var(--auth-max-h),
    calc(100svh - var(--header-height) - 2*var(--vpad))
  );
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 30px 80px var(--shadow);
  backdrop-filter: blur(10px);

  /* scale whole container (visual only) */
  transform: scale(var(--auth-scale));
  transform-origin: top center;
}
.panes{
  display: grid;
  grid-template-columns: 1fr 1fr;
  height: 100%;
  background: #fffffffa;
}
.pane{
  padding: 28px clamp(18px, 3vw, 40px);
  display: flex;
  flex-direction: column;
  justify-content: center;
  color: var(--text);
  background: var(--panel-bg);
}
.pane-signup{ background:#fff; }
.pane-login{ background:#fff; }

/* Overlay */
.overlay{
  position: absolute; inset: 0 auto 0 0;
  width: 50%; height: 100%;
  background: linear-gradient(135deg, var(--grad1), var(--grad2));
  color: var(--text-invert);
  display: grid; place-items: center;
  border-radius: 0 18px 18px 0;
  box-shadow: 0 15px 60px color-mix(in oklab, var(--grad2) 40%, transparent);
  transition: transform .55s cubic-bezier(.2,.8,.2,1);
}
.overlay-inner{ text-align:center; padding: 18px; max-width: 320px; }
.overlay-title{ margin: 0 0 8px 0; font-size: clamp(20px, 1.8vw, 24px); }
.overlay-text{ margin: 0 0 14px 0; opacity: .9; }
.overlay-btn{
  appearance: none; border: 0; cursor: pointer;
  padding: 10px 16px; border-radius: 999px;
  background: #ffffff; color: #000000; font-weight: 700;
  box-shadow: 0 8px 24px rgba(0,0,0,.18);
}
.overlay-btn:hover{
  background: #3da6ff; color: #ffffff;
}
.auth-card.signup-mode .overlay{ transform: translateX(100%); border-radius: 18px 0 0 18px; }

/* Forms */
.brand{ display:grid; place-items:center; margin-bottom: 6px; }
.logo-circle{ width:44px; height:44px; border-radius:50%; display:grid; place-items:center; color:#fff;
  background: linear-gradient(135deg, var(--grad1), var(--grad2)); font-weight:700; }
.title{ margin:6px 0 2px 0; font-size: clamp(20px, 1.8vw, 24px); }
.subtitle{ margin:0 0 12px 0; color: var(--muted); }

.login-form, .signup-form{ display:grid; gap:14px; }
.form-row{ display:grid; gap:6px; }
.label-row{ display:flex; align-items:baseline; justify-content:space-between; }
label{ font-size:14px; color:#667085; }

input[type="text"], input[type="password"], input[type="email"]{
  width:100%; padding:10px 12px; border-radius:10px; border:1px solid #e5e7eb;
  background:#f9fafb; color:#0f172a; outline:none;
  transition: border-color .15s, box-shadow .15s, background .15s;
}
input::placeholder{ color:#9aa3b2; }
input:focus{ border-color:#c7d2fe; box-shadow: 0 0 0 3px #e0e7ff; background:#fff; }

.primary-btn{
  display:inline-flex; align-items:center; justify-content:center; width:100%;
  gap:8px; padding:10px 14px; border-radius:10px; border:0; cursor:pointer;
  background: linear-gradient(135deg, var(--grad1), var(--grad2));
  color:#fff; font-weight:700;
  box-shadow: 0 14px 28px color-mix(in oklab, var(--grad2) 35%, transparent);
  transition: transform .08s ease, filter .2s ease;
}
.primary-btn:hover{ filter:brightness(1.05); }
.primary-btn:active{ transform: translateY(1px); }

.link{ color: var(--link); text-decoration:none; }
.link:hover{ text-decoration:underline; }
.as-button{ background:none; border:0; padding:0; cursor:pointer; font: inherit; }
.swap-cta{ margin: 6px 0 0 0; color:#6b7280; font-size:14px; }

/* Show/Hide buttons in labels */
.ghost{
  border:0; background:#e5e7eb; color:#111827; font-weight:600;
  padding:6px 10px; border-radius:10px; cursor:pointer;
}
.ghost:hover{ filter:brightness(1.03); }

/* Prevent page scrolling on login page (keeps layout fixed-height under header) */
@supports selector(body:has(.login-page)) {
  body:has(.login-page) { overflow: hidden; }
}
/* Fallback if :has() not supported */
.login-page { overflow: hidden; }
main.auth-shell { margin-top: 0 !important; }

/* Remove any global main padding just for the login page (so top shadow shows) */
main.container:has(.login-page){ padding-top: 0 !important; }

/* Height-based tightening for shorter screens */
@media (max-height: 780px){
  :root{ --auth-max-h: 520px; }
}
@media (max-height: 680px){
  :root{ --auth-max-h: 480px; }
}

/* Responsive width behavior */
@media (max-width: 980px){
  .auth-card{ height:auto; transform: scale(0.9); transform-origin: top center; }
  .panes{ grid-template-columns: 1fr; }
  .overlay{ display:none; } /* On small screens, stack forms; use inline links to swap */
}
